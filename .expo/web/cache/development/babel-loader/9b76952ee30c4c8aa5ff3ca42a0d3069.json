{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/homerli/Desktop/ElephantGarlic-Farmily/Component/screen/login.js\";\nimport React, { useState, useContext } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { getUseWithUID, login } from \"../../firebase/collection/readData\";\nimport { AuthContext } from \"../index\";\nimport styles from \"../styles\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var authContext = useContext(AuthContext);\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var handleRegistration = function handleRegistration() {\n    navigation.navigate(\"Registration\");\n  };\n\n  var handleForgorPassword = function handleForgorPassword() {\n    navigation.navigate(\"Reset\");\n  };\n\n  var logIn = function logIn() {\n    var user;\n    return _regeneratorRuntime.async(function logIn$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(login(email, password));\n\n          case 3:\n            user = _context.sent;\n            authContext.setUser(user);\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            Alert.alert(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: styles.container,\n    behavior: Platform.OS == \"ios\" ? \"padding\" : \"height\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 3\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/Farmily.png\"),\n    style: styles.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }\n  }), React.createElement(TextInput, {\n    style: styles.inputSpace,\n    placeholder: \"Email\",\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }\n  }), React.createElement(TextInput, {\n    style: styles.inputSpace,\n    placeholder: \"Password\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }), React.createElement(Button, {\n    title: \"Lon in\",\n    onPress: function onPress() {\n      logIn();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }), React.createElement(Text, {\n    onPress: handleForgorPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }\n  }, \"Forgot Password?\"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }\n  }, \"Don't have an account?\", React.createElement(Text, {\n    onPress: handleRegistration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, \"Sign up\")));\n}","map":{"version":3,"sources":["/Users/homerli/Desktop/ElephantGarlic-Farmily/Component/screen/login.js"],"names":["React","useState","useContext","getUseWithUID","login","AuthContext","styles","Login","navigation","authContext","email","setEmail","password","setPassword","handleRegistration","navigate","handleForgorPassword","logIn","user","setUser","Alert","alert","container","Platform","OS","require","img","inputSpace","text"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;;;;;;;AASA,SAASC,aAAT,EAAwBC,KAAxB;AACA,SAASC,WAAT;AACA,OAAOC,MAAP;AAEA,eAAe,SAASC,KAAT,OAA+B;AAAA,MAAdC,UAAc,QAAdA,UAAc;AAC7C,MAAMC,WAAW,GAAGP,UAAU,CAACG,WAAD,CAA9B;;AAD6C,kBAGnBJ,QAAQ,CAAC,EAAD,CAHW;AAAA;AAAA,MAGtCS,KAHsC;AAAA,MAG/BC,QAH+B;;AAAA,mBAIbV,QAAQ,CAAC,EAAD,CAJK;AAAA;AAAA,MAItCW,QAJsC;AAAA,MAI5BC,WAJ4B;;AAM7C,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAChCN,IAAAA,UAAU,CAACO,QAAX,CAAoB,cAApB;AACA,GAFD;;AAIA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AAClCR,IAAAA,UAAU,CAACO,QAAX,CAAoB,OAApB;AACA,GAFD;;AAIA,MAAME,KAAK,GAAG,SAARA,KAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAGCb,KAAK,CAACM,KAAD,EAAQE,QAAR,CAHN;;AAAA;AAGZM,YAAAA,IAHY;AAIZT,YAAAA,WAAW,CAACU,OAAZ,CAAoBD,IAApB;AAJY;AAAA;;AAAA;AAAA;AAAA;AAQZE,YAAAA,KAAK,CAACC,KAAN;;AARY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;;AAYA,SACC,oBAAC,oBAAD;AACC,IAAA,KAAK,EAAEf,MAAM,CAACgB,SADf;AAEC,IAAA,QAAQ,EAAEC,QAAQ,CAACC,EAAT,IAAe,KAAf,GAAuB,SAAvB,GAAmC,QAF9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIC,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEC,OAAO,4BAAtB;AAAoD,IAAA,KAAK,EAAEnB,MAAM,CAACoB,GAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,EAKC,oBAAC,SAAD;AACC,IAAA,KAAK,EAAEpB,MAAM,CAACqB,UADf;AAEC,IAAA,WAAW,EAAC,OAFb;AAGC,IAAA,YAAY,EAAE,sBAACC,IAAD;AAAA,aAAUjB,QAAQ,CAACiB,IAAD,CAAlB;AAAA,KAHf;AAIC,IAAA,KAAK,EAAElB,KAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALD,EAYC,oBAAC,SAAD;AACC,IAAA,KAAK,EAAEJ,MAAM,CAACqB,UADf;AAEC,IAAA,WAAW,EAAC,UAFb;AAGC,IAAA,eAAe,MAHhB;AAIC,IAAA,YAAY,EAAE,sBAACC,IAAD;AAAA,aAAUf,WAAW,CAACe,IAAD,CAArB;AAAA,KAJf;AAKC,IAAA,KAAK,EAAEhB,QALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZD,EAoBC,oBAAC,MAAD;AACC,IAAA,KAAK,EAAC,QADP;AAEC,IAAA,OAAO,EAAE,mBAAM;AACdK,MAAAA,KAAK;AACL,KAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBD,EA0BC,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAED,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA1BD,EA4BC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEC,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEF,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFD,CA5BD,CADD;AAmCA","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport {\n\tImage,\n\tText,\n\tTextInput,\n\tAlert,\n\tButton,\n\tKeyboardAvoidingView,\n} from \"react-native\";\nimport { getUseWithUID, login } from \"../../firebase/collection/readData\";\nimport { AuthContext } from \"../index\";\nimport styles from \"../styles\";\n\nexport default function Login({ navigation }) {\n\tconst authContext = useContext(AuthContext);\n\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\tconst handleRegistration = () => {\n\t\tnavigation.navigate(\"Registration\");\n\t};\n\n\tconst handleForgorPassword = () => {\n\t\tnavigation.navigate(\"Reset\");\n\t};\n\n\tconst logIn = async () => {\n\t\tlet user;\n\t\ttry {\n\t\t\tuser = await login(email, password);\n\t\t\tauthContext.setUser(user);\n\t\t\t//navigation.navigate(\"Home\");\n\t\t\t//go to homescreen with user data\n\t\t} catch (err) {\n\t\t\tAlert.alert(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<KeyboardAvoidingView\n\t\t\tstyle={styles.container}\n\t\t\tbehavior={Platform.OS == \"ios\" ? \"padding\" : \"height\"}\n\t\t>\n\t\t\t<Image source={require(\"../../assets/Farmily.png\")} style={styles.img} />\n\t\t\t<TextInput\n\t\t\t\tstyle={styles.inputSpace}\n\t\t\t\tplaceholder=\"Email\"\n\t\t\t\tonChangeText={(text) => setEmail(text)}\n\t\t\t\tvalue={email}\n\t\t\t/>\n\n\t\t\t<TextInput\n\t\t\t\tstyle={styles.inputSpace}\n\t\t\t\tplaceholder=\"Password\"\n\t\t\t\tsecureTextEntry\n\t\t\t\tonChangeText={(text) => setPassword(text)}\n\t\t\t\tvalue={password}\n\t\t\t/>\n\n\t\t\t<Button\n\t\t\t\ttitle=\"Lon in\"\n\t\t\t\tonPress={() => {\n\t\t\t\t\tlogIn();\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Text onPress={handleForgorPassword}>Forgot Password?</Text>\n\n\t\t\t<Text>\n\t\t\t\tDon't have an account?\n\t\t\t\t<Text onPress={handleRegistration}>Sign up</Text>\n\t\t\t</Text>\n\t\t</KeyboardAvoidingView>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}